#!/usr/bin/env node
var _require = require("fs"),
    readFileSync = _require.readFileSync;

var _require2 = require("../tools"),
    parsers = _require2.parsers,
    printers = _require2.printers;

function toArrayBuffer(buf) {
  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);
}

var filename = process.argv[2];
var buff = toArrayBuffer(readFileSync(filename, null));
var ast = parsers.parseWASM(buff);
var wast = printers.printWAST(ast);
process.stdout.write(wast);